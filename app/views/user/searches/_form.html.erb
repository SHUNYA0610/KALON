<%= form_with url: search_path, method: :get, local: true do |f| %>
  <%= f.text_field :content, id: "search_content", style: "border: 3px #D43EFF solid; border-radius: 10px; height: 40px; width: 40%;" %>
  <%= f.select :model, options_for_select({"ユーザー" => "user", "ポスト" => "post"}), {}, {style: "padding: 5px; border-radius: 10px; color: white; background-color: #D43EFF; border: 1px white solid; width: 28%; font-weight: bold;"} %>
  <%= f.select :method, options_for_select({"完全一致" => "perfect", "前方一致" => "forward", "後方一致" => "backward", "部分一致" => "partial"}), {}, {style: "padding: 5px; border-radius: 10px; color: white; background-color: #D43EFF; border: 1px white solid; width: 28%; font-weight: bold;"} %>

  <%= f.submit "検索", id: "search_submit", disabled: true, style: "padding: 8px; border-radius: 10px; color: white; background-color: #D43EFF; border: 1px white solid; width: 100%; font-weight: bold; margin: 10px 0px;" %>
<% end %>

<script>
  $(document).on('turbolinks:load', function() {
      const searchContent = document.getElementById('search_content');
      const searchSubmit = document.getElementById('search_submit');
  
      if (searchContent.value.trim() === '') {
          searchSubmit.disabled = true;
      }
  
      searchContent.addEventListener('input', function() {
          searchSubmit.disabled = searchContent.value.trim() === '';
      });
  });
</script>